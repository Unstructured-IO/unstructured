<!doctype html>
<html class="no-js"  lang="en" >

<head><meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Cleaning" href="cleaning.html" /><link rel="prev" title="Core Functionality" href="../core.html" />

  <link rel="shortcut icon" href="../_static/unstructured_small.png" /><meta name="generator" content="sphinx-6.2.1, furo 2023.07.26" />
  <title>Partitioning - Unstructured 0.12.6 documentation</title>
  <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
  <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=369552022d0b975c8e74270ce6eabe0fb7978f24" />
  <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
  <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
  <link rel="stylesheet" type="text/css" href="../_static/unstructured.css" />
  <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
  
  


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-sidebar-background: #FFFFFF;
  --color-sidebar-background-border: #e9eaed;
  --color-sidebar-caption-text: #484848;
  --color-sidebar-link-text: #484848;
  --color-sidebar-link-text--top-level: #484848;
  --color-sidebar-item-background--current: transparent;
  --color-sidebar-item-background--hover: transparent;
  --color-sidebar-item-expander-background: transparent;
  --color-sidebar-item-expander-background--hover: transparent;
  --color-sidebar-search-text: #484848;
  --color-sidebar-search-background: #FFFFFF;
  --color-sidebar-search-background--focus: #FFFFFF;
  --color-sidebar-search-border: #b9b9b9;
  --color-sidebar-search-border-focus: #484848;
  --color-sidebar-current-text: #ff675f;
  --color-content-foreground: #484848;
  --color-toc-title: #212529;
  --color-toc-item-text--hover: #484848;
  --color-toc-item-text--active: #484848;
  --color-table-header: #FDDACA;
  --color-table-bg: #FFE5D9;
  --color-table-row: #FEEDE6;
  --color-link: #ff675f;
  --color-link--hover: #ff675f;
  --content-padding: 5em;
  --content-padding--small: 2em;
  --color-search-icon: #484848;
  --color-search-placeholder: #484848;
  --color-literal: #FF675F;
  --toc-spacing-vertical: 3em;
  --color-page-info: #646776;
  --toc-item-spacing-vertical: 1em;
  --color-img-background: #ffffff;
  --sidebar-tree-space-above: 0;
  --sidebar-caption-space-above: 0;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-sidebar-background: #131416;
  --color-sidebar-background-border: #303335;
  --color-sidebar-caption-text: #FFFFFF;
  --color-sidebar-link-text: #FFFFFF;
  --color-sidebar-link-text--top-level: #FFFFFF;
  --color-sidebar-item-background--current: none;
  --color-sidebar-item-background--hover: none;
  --color-sidebar-item-expander-background: transparent;
  --color-sidebar-item-expander-background--hover: transparent;
  --color-sidebar-search-text: #FFFFFF;
  --color-sidebar-search-background: #131416;
  --color-sidebar-search-background--focus: transparent;
  --color-sidebar-search-border: #FFFFFF;
  --color-sidebar-search-border-focus: #FFFFFF;
  --color-sidebar-search-foreground: #FFFFFF;
  --color-sidebar-current-text: #FFC2BF;
  --color-content-foreground: #FFFFFF;
  --color-toc-title: #FFFFFF;
  --color-toc-item-text--hover: #FFFFFF;
  --color-toc-item-text--active: #FFFFFF;
  --color-table-header: #131416;
  --color-table-bg: #232427;
  --color-table-row: #444444;
  --color-link: #FFC2BF;
  --color-link--hover: #FFC2BF;
  --color-search-icon: #FFFFFF;
  --color-search-placeholder: #FFFFFF;
  --color-literal: #F8C0A7;
  --color-page-info: #FFFFFF;
  --color-img-background: #131416;
  --sidebar-tree-space-above: 0;
  --sidebar-caption-space-above: 0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-sidebar-background: #131416;
  --color-sidebar-background-border: #303335;
  --color-sidebar-caption-text: #FFFFFF;
  --color-sidebar-link-text: #FFFFFF;
  --color-sidebar-link-text--top-level: #FFFFFF;
  --color-sidebar-item-background--current: none;
  --color-sidebar-item-background--hover: none;
  --color-sidebar-item-expander-background: transparent;
  --color-sidebar-item-expander-background--hover: transparent;
  --color-sidebar-search-text: #FFFFFF;
  --color-sidebar-search-background: #131416;
  --color-sidebar-search-background--focus: transparent;
  --color-sidebar-search-border: #FFFFFF;
  --color-sidebar-search-border-focus: #FFFFFF;
  --color-sidebar-search-foreground: #FFFFFF;
  --color-sidebar-current-text: #FFC2BF;
  --color-content-foreground: #FFFFFF;
  --color-toc-title: #FFFFFF;
  --color-toc-item-text--hover: #FFFFFF;
  --color-toc-item-text--active: #FFFFFF;
  --color-table-header: #131416;
  --color-table-bg: #232427;
  --color-table-row: #444444;
  --color-link: #FFC2BF;
  --color-link--hover: #FFC2BF;
  --color-search-icon: #FFFFFF;
  --color-search-placeholder: #FFFFFF;
  --color-literal: #F8C0A7;
  --color-page-info: #FFFFFF;
  --color-img-background: #131416;
  --sidebar-tree-space-above: 0;
  --sidebar-caption-space-above: 0;
  
      }
    }
  }
</style><script src="../_static/jquery.js"></script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/doctools.js"></script>
  <script src="../_static/sphinx_highlight.js"></script>
  <script src="../_static/scripts/furo.js"></script>
  <script src="../_static/js/githubStargazers.js"></script>
  <script src="../_static/js/sidebarScrollPosition.js"></script>
  <script src="../_static/custom.js"></script>
  </head>

<body>
  
  <script>
    document.body.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<input type="checkbox" class="sidebar-toggle" name="__search" id="__search">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>
<label class="overlay search-overlay" for="__search">
  <div class="visually-hidden">Hide search</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg>
            <use href="#svg-menu"></use>
          </svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html">
        <div class="brand">
					<img class="header-logo only-light" src="../_static/images/logo-light-mode.svg" alt="Light Logo" />
					<img class="header-logo only-dark" src="../_static/images/logo-dark-mode.svg" alt="Dark Logo" />
        </div>
      </a>
    </div>

    <div class="header-right">
      <label class="search-icon" for="__search">
        <div class="visually-hidden">Toggle search</div>
      </label>
      <!-- <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label> -->
    </div>
  </header>
  <div class="header__search">
    <form class="header__search__container" method="get" action="../search.html" role="search">
      <input class="header__search__input" placeholder=Search name="q" aria-label=" Search">
      <input type="hidden" name="check_keywords" value="yes">
      <input type="hidden" name="area" value="default">
      <label class="close-icon" for="__search">
        <div class="visually-hidden">Hide search</div>
      </label>
    </form>
    <div id="searchbox"></div>
  </div>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="theme-toggle-container theme-toggle-header sidebar__theme-toggle">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto">
            <use href="#svg-sun-half"></use>
          </svg>
          <svg class="theme-icon-when-dark">
            <use href="#svg-moon"></use>
          </svg>
          <svg class="theme-icon-when-light">
            <use href="#svg-sun"></use>
          </svg>
        </button>
      </div>
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/images/logo-light-mode.svg" alt="Light Logo" />
    <img class="sidebar-logo only-dark" src="../_static/images/logo-dark-mode.svg" alt="Dark Logo" />
  </div>
  
  
</a>
<div class="social social--sidebar" style="margin-top: 1em; display: flex; justify-content: right; gap: 8px">
  <a
    href="https://short.unstructured.io/pzw05l7"
    class="button--primary" target="_blank">Join <span aria-label="slack" class="slack-icon"></span></span></a>
    <div class="github-stars github-stars--sidebar"></div>
</div><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../introduction.html">Introduction</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Introduction</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/overview.html">Document Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/key_concepts.html">Key Concepts</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../installing.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Installation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/full_installation.html">Full Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/docker.html">Docker Installation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api.html">Unstructured API Services</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Unstructured API Services</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../apis/saas_api.html">SaaS API Deployment Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apis/azure_marketplace.html">Azure Marketplace Deployment Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apis/aws_marketplace.html">AWS Marketplace Deployment Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apis/api_sdks.html">Python and JavaScript SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apis/usage_methods.html">Accessing Unstructured API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apis/api_parameters.html">API Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apis/validation_errors.html">API Validation Errors</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../platform.html">Unstructured Platform</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Unstructured Platform</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../platforms/workflow.html">Workflows Automation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../platforms/job.html">Jobs Scheduling</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../platforms/source_platform.html">Platform Source Connectors</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Platform Source Connectors</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/amazon_s3_source.html">Amazon S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/azure_blob.html">Azure Blob Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/elasticsearch_source.html">Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/google_cloud_source.html">Google Cloud Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/google_drive.html">Google Drive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/onedrive.html">OneDrive Cloud Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/opensearch.html">OpenSearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/salesforce.html">Salesforce</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/sftp.html">SFTP Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_sources/sharepoint.html">Sharepoint</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../platforms/destination_platform.html">Platform Destination Connectors</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Platform Destination Connectors</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/amazon_s3_destination.html">Amazon S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/azure_cognitive_search.html">Azure Cognitive Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/chroma.html">Chroma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/databricks.html">Databricks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/elasticsearch_destination.html">Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/google_cloud_destination.html">Google Cloud Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/mongodb.html">MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/opensearch.html">OpenSearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/pinecone.html">Pinecone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/postgresql.html">PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../platforms/platform_destinations/weaviate.html">Weaviate</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../core.html">Core Functionality</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Core Functionality</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Partitioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="cleaning.html">Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="extracting.html">Extracting</a></li>
<li class="toctree-l2"><a class="reference internal" href="staging.html">Staging</a></li>
<li class="toctree-l2"><a class="reference internal" href="chunking.html">Chunking</a></li>
<li class="toctree-l2"><a class="reference internal" href="embedding.html">Embedding</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ingest/index.html">Ingest</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Ingest</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ingest/source_connectors.html">Source Connectors</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Source Connectors</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/airtable.html">Airtable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/azure.html">Azure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/biomed.html">Biomed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/box.html">Box</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/confluence.html">Confluence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/delta_table.html">Delta Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/discord.html">Discord</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/dropbox.html">Dropbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/elasticsearch.html">Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/github.html">Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/gitlab.html">Gitlab</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/google_cloud_storage.html">Google Cloud Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/google_drive.html">Google Drive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/jira.html">Jira</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/local_connector.html">Local</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/mongodb.html">MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/notion.html">Notion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/onedrive.html">One Drive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/opensearch.html">OpenSearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/outlook.html">Outlook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/reddit.html">Reddit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/s3.html">S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/salesforce.html">Salesforce</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/sftp.html">Sftp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/sharepoint.html">Sharepoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/slack.html">Slack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/source_connectors/wikipedia.html">Wikipedia</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ingest/destination_connectors.html">Destination Connectors</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Destination Connectors</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/astra.html">Astra</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/azure.html">Azure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/azure_cognitive_search.html">Azure Cognitive Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/box.html">Box</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/chroma.html">Chroma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/databricks_volumes.html">Databricks Volumes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/delta_table.html">Delta Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/dropbox.html">Dropbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/elasticsearch.html">Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/gcs.html">Google Cloud Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/mongodb.html">MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/pinecone.html">Pinecone</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/opensearch.html">OpenSearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/qdrant.html">Qdrant</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/s3.html">S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/sql.html">SQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/vectara.html">Vectara</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/destination_connectors/weaviate.html">Weaviate</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ingest/configs.html">Ingest Configuration</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Ingest Configuration</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ingest/configs/processor_config.html">Processor Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/configs/read_config.html">Read Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/configs/partition_config.html">Partition Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/configs/permissions_config.html">Permissions Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/configs/retry_strategy_config.html">Retry Strategy Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/configs/chunking_config.html">Chunking Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/configs/embedding_config.html">Embedding Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ingest/configs/fsspec_config.html">Fsspec Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metadata</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../examples.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/chroma.html">Data Processing into Vector Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/databricks.html">Delta Table Source Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/dict_to_elements.html">Multi-files API Processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../best_practices.html">Best Practices</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Best Practices</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../best_practices/strategies.html">Strategies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../best_practices/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../best_practices/table_extraction_pdf.html">Table Extraction from PDF</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto">
                <use href="#svg-sun-half"></use>
              </svg>
              <svg class="theme-icon-when-dark">
                <use href="#svg-moon"></use>
              </svg>
              <svg class="theme-icon-when-light">
                <use href="#svg-sun"></use>
              </svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg>
                <use href="#svg-toc"></use>
              </svg></i>
          </label>
        </div>
        <div class="header-center">
          <a href="../index.html">
            <div class="brand">
            </div>
          </a>
        </div>
        <article role="main">
          <div class="social social--main" style="margin-top: 1em; display: flex; justify-content: right; gap: 8px">
            <a href="https://short.unstructured.io/pzw05l7"
              class="button--primary" target="_blank">Join <span aria-label="slack"
                class="slack-icon"></span></span></a>
            <div class="github-stars github-stars--top-page"></div>
            <!-- Calendly badge widget begin -->
          </div>
          <section id="partitioning">
<h1>Partitioning<a class="headerlink" href="#partitioning" title="Permalink to this heading"></a></h1>
<p>Partitioning functions in <code class="docutils literal notranslate"><span class="pre">unstructured</span></code> allow users to extract structured content from a raw unstructured document.
These functions break a document down into elements such as <code class="docutils literal notranslate"><span class="pre">Title</span></code>, <code class="docutils literal notranslate"><span class="pre">NarrativeText</span></code>, and <code class="docutils literal notranslate"><span class="pre">ListItem</span></code>,
enabling users to decide what content they’d like to keep for their particular application.
If you’re training a summarization model, for example, you may only be interested in <code class="docutils literal notranslate"><span class="pre">NarrativeText</span></code>.</p>
<p>The easiest way to partition documents in unstructured is to use the <code class="docutils literal notranslate"><span class="pre">partition</span></code> function.
If you call the <code class="docutils literal notranslate"><span class="pre">partition</span></code> function, <code class="docutils literal notranslate"><span class="pre">unstructured</span></code> will use <code class="docutils literal notranslate"><span class="pre">libmagic</span></code> to automatically determine the file type and invoke the appropriate partition function.
In cases where <code class="docutils literal notranslate"><span class="pre">libmagic</span></code> is not available, filetype detection will fall back to using the file extension.</p>
<p>The following table shows the document types the <code class="docutils literal notranslate"><span class="pre">unstructured</span></code> library currently supports. <code class="docutils literal notranslate"><span class="pre">partition</span></code> will recognize each of these document types and route the document
to the appropriate partitioning function. If you already know your document type, you can use the partitioning function listed in the table directly.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Document Type</p></td>
<td><p>Partition Function</p></td>
<td><p>Strategies</p></td>
<td><p>Table Support</p></td>
<td><p>Options</p></td>
</tr>
<tr class="row-even"><td><p>CSV Files (<cite>.csv</cite>)</p></td>
<td><p><cite>partition_csv</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>E-mails (<cite>.eml</cite>)</p></td>
<td><p><cite>partition_eml</cite></p></td>
<td><p>N/A</p></td>
<td><p>No</p></td>
<td><p>Encoding; Max Partition; Process Attachments</p></td>
</tr>
<tr class="row-even"><td><p>E-mails (<cite>.msg</cite>)</p></td>
<td><p><cite>partition_msg</cite></p></td>
<td><p>N/A</p></td>
<td><p>No</p></td>
<td><p>Encoding; Max Partition; Process Attachments</p></td>
</tr>
<tr class="row-odd"><td><p>EPubs (<cite>.epub</cite>)</p></td>
<td><p><cite>partition_epub</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-even"><td><p>Excel Documents (<cite>.xlsx</cite>/<cite>.xls</cite>)</p></td>
<td><p><cite>partition_xlsx</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>HTML Pages (<cite>.html</cite>/<cite>.htm</cite>)</p></td>
<td><p><cite>partition_html</cite></p></td>
<td><p>N/A</p></td>
<td><p>No</p></td>
<td><p>Encoding; Include Page Breaks</p></td>
</tr>
<tr class="row-even"><td><p>Images (<cite>.png</cite>/<cite>.jpg</cite>/<cite>.jpeg</cite>/<cite>.tiff</cite>/<cite>.bmp</cite>/<cite>.heic</cite>)</p></td>
<td><p><cite>partition_image</cite></p></td>
<td><p>“auto”, “hi_res”, “ocr_only”</p></td>
<td><p>Yes</p></td>
<td><p>Encoding; Include Page Breaks; Infer Table Structure; OCR Languages, Strategy</p></td>
</tr>
<tr class="row-odd"><td><p>Markdown (<cite>.md</cite>)</p></td>
<td><p><cite>partition_md</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-even"><td><p>Org Mode (<cite>.org</cite>)</p></td>
<td><p><cite>partition_org</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-odd"><td><p>Open Office Documents (<cite>.odt</cite>)</p></td>
<td><p><cite>partition_odt</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>PDFs (<cite>.pdf</cite>)</p></td>
<td><p><cite>partition_pdf</cite></p></td>
<td><p>“auto”, “fast”, “hi_res”, “ocr_only”</p></td>
<td><p>Yes</p></td>
<td><p>Encoding; Include Page Breaks; Infer Table Structure; Max Partition; OCR Languages, Strategy</p></td>
</tr>
<tr class="row-odd"><td><p>Plain Text (<cite>.txt</cite>/<cite>.text</cite>/<cite>.log</cite>)</p></td>
<td><p><cite>partition_text</cite></p></td>
<td><p>N/A</p></td>
<td><p>No</p></td>
<td><p>Encoding; Max Partition; Paragraph Grouper</p></td>
</tr>
<tr class="row-even"><td><p>PowerPoints (<cite>.ppt</cite>)</p></td>
<td><p><cite>partition_ppt</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-odd"><td><p>PowerPoints (<cite>.pptx</cite>)</p></td>
<td><p><cite>partition_pptx</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-even"><td><p>ReStructured Text (<cite>.rst</cite>)</p></td>
<td><p><cite>partition_rst</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-odd"><td><p>Rich Text Files (<cite>.rtf</cite>)</p></td>
<td><p><cite>partition_rtf</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-even"><td><p>TSV Files (<cite>.tsv</cite>)</p></td>
<td><p><cite>partition_tsv</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>Word Documents (<cite>.doc</cite>)</p></td>
<td><p><cite>partition_doc</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-even"><td><p>Word Documents (<cite>.docx</cite>)</p></td>
<td><p><cite>partition_docx</cite></p></td>
<td><p>N/A</p></td>
<td><p>Yes</p></td>
<td><p>Include Page Breaks</p></td>
</tr>
<tr class="row-odd"><td><p>XML Documents (<cite>.xml</cite>)</p></td>
<td><p><cite>partition_xml</cite></p></td>
<td><p>N/A</p></td>
<td><p>No</p></td>
<td><p>Encoding; Max Partition; XML Keep Tags</p></td>
</tr>
<tr class="row-even"><td><p>Code Files (<cite>.js</cite>/<cite>.py</cite>/<cite>.java</cite>/ <cite>.cpp</cite>/<cite>.cc</cite>/<cite>.cxx</cite>/<cite>.c</cite>/<cite>.cs</cite>/ <cite>.php</cite>/<cite>.rb</cite>/<cite>.swift</cite>/<cite>.ts</cite>/<cite>.go</cite>)</p></td>
<td><p><cite>partition_text</cite></p></td>
<td><p>N/A</p></td>
<td><p>No</p></td>
<td><p>Encoding; Max Partition; Paragraph Grouper</p></td>
</tr>
</tbody>
</table>
</div>
<p>As shown in the examples below, the <code class="docutils literal notranslate"><span class="pre">partition</span></code> function accepts both filenames and file-like objects as input.
<code class="docutils literal notranslate"><span class="pre">partition</span></code> also has some optional kwargs.
For example, if you set <code class="docutils literal notranslate"><span class="pre">include_page_breaks=True</span></code>, the output will include <code class="docutils literal notranslate"><span class="pre">PageBreak</span></code> elements if the filetype supports it.
Additionally you can bypass the filetype detection logic with the optional  <code class="docutils literal notranslate"><span class="pre">content_type</span></code> argument which may be specified with either the <code class="docutils literal notranslate"><span class="pre">filename</span></code> or file-like object, <code class="docutils literal notranslate"><span class="pre">file</span></code>.
You can find a full listing of optional kwargs in the documentation below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.auto</span> <span class="kn">import</span> <span class="n">partition</span>


<span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">EXAMPLE_DOCS_DIRECTORY</span><span class="p">,</span> <span class="s2">&quot;layout-parser-paper-fast.pdf&quot;</span><span class="p">)</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;application/pdf&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">el</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">][:</span><span class="mi">10</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.auto</span> <span class="kn">import</span> <span class="n">partition</span>


<span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">EXAMPLE_DOCS_DIRECTORY</span><span class="p">,</span> <span class="s2">&quot;layout-parser-paper-fast.pdf&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">elements</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">,</span> <span class="n">include_page_breaks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">el</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">][</span><span class="mi">5</span><span class="p">:</span><span class="mi">15</span><span class="p">]))</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">unstructured</span></code> library also includes partitioning functions targeted at specific document types.
The <code class="docutils literal notranslate"><span class="pre">partition</span></code> function uses these document-specific partitioning functions under the hood.
There are a few reasons you may want to use a document-specific partitioning function instead of <code class="docutils literal notranslate"><span class="pre">partition</span></code>:</p>
<ul class="simple">
<li><p>If you already know the document type, filetype detection is unnecessary. Using the document-specific function directly, or passing in the <code class="docutils literal notranslate"><span class="pre">content_type</span></code> will make your program run faster.</p></li>
<li><p>Fewer dependencies. You don’t need to install <code class="docutils literal notranslate"><span class="pre">libmagic</span></code> for filetype detection if you’re only using document-specific functions.</p></li>
<li><p>Additional features. The API for partition is the least common denominator for all document types. Certain document-specific function include extra features that you may want to take advantage of. For example, <code class="docutils literal notranslate"><span class="pre">partition_html</span></code> allows you to pass in a URL so you don’t have to store the <code class="docutils literal notranslate"><span class="pre">.html</span></code> file locally. See the documentation below learn about the options available in each partitioning function.</p></li>
</ul>
<p>Below we see an example of how to partition a document directly with the URL using the partition_html function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.html</span> <span class="kn">import</span> <span class="n">partition_html</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://www.cnn.com/2023/01/30/sport/empire-state-building-green-philadelphia-eagles-spt-intl/index.html&quot;</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_html</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">el</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">]))</span>
</pre></div>
</div>
<section id="partition">
<h2><code class="docutils literal notranslate"><span class="pre">partition</span></code><a class="headerlink" href="#partition" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition</span></code> function is the simplest way to partition a document in <code class="docutils literal notranslate"><span class="pre">unstructured</span></code>.
If you call the <code class="docutils literal notranslate"><span class="pre">partition</span></code> function, <code class="docutils literal notranslate"><span class="pre">unstructured</span></code> will attempt to detect the
file type and route it to the appropriate partitioning function. All partitioning functions
called within <code class="docutils literal notranslate"><span class="pre">partition</span></code> are called using the default kwargs. Use the document-type
specific functions if you need to apply non-default settings.
<code class="docutils literal notranslate"><span class="pre">partition</span></code> currently supports <code class="docutils literal notranslate"><span class="pre">.docx</span></code>, <code class="docutils literal notranslate"><span class="pre">.doc</span></code>, <code class="docutils literal notranslate"><span class="pre">.odt</span></code>, <code class="docutils literal notranslate"><span class="pre">.pptx</span></code>, <code class="docutils literal notranslate"><span class="pre">.ppt</span></code>, <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>, <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.tsv</span></code>, <code class="docutils literal notranslate"><span class="pre">.eml</span></code>, <code class="docutils literal notranslate"><span class="pre">.msg</span></code>, <code class="docutils literal notranslate"><span class="pre">.rtf</span></code>, <code class="docutils literal notranslate"><span class="pre">.epub</span></code>, <code class="docutils literal notranslate"><span class="pre">.html</span></code>, <code class="docutils literal notranslate"><span class="pre">.xml</span></code>, <code class="docutils literal notranslate"><span class="pre">.pdf</span></code>,
<code class="docutils literal notranslate"><span class="pre">.png</span></code>, <code class="docutils literal notranslate"><span class="pre">.jpg</span></code>, <code class="docutils literal notranslate"><span class="pre">.heic</span></code>, and <code class="docutils literal notranslate"><span class="pre">.txt</span></code> files.
If you set the <code class="docutils literal notranslate"><span class="pre">include_page_breaks</span></code> kwarg to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the output will include page breaks. This is only supported for <code class="docutils literal notranslate"><span class="pre">.pptx</span></code>, <code class="docutils literal notranslate"><span class="pre">.html</span></code>, <code class="docutils literal notranslate"><span class="pre">.pdf</span></code>,
<code class="docutils literal notranslate"><span class="pre">.png</span></code>, <code class="docutils literal notranslate"><span class="pre">.heic</span></code>, and <code class="docutils literal notranslate"><span class="pre">.jpg</span></code>.
The <code class="docutils literal notranslate"><span class="pre">strategy</span></code> kwarg controls the strategy for partitioning documents. Generally available strategies are <cite>“fast”</cite> for
faster processing and <cite>“hi_res”</cite> for more accurate processing.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">docx</span>

<span class="kn">from</span> <span class="nn">unstructured.partition.auto</span> <span class="kn">import</span> <span class="n">partition</span>

<span class="n">document</span> <span class="o">=</span> <span class="n">docx</span><span class="o">.</span><span class="n">Document</span><span class="p">()</span>
<span class="n">document</span><span class="o">.</span><span class="n">add_paragraph</span><span class="p">(</span><span class="s2">&quot;Important Analysis&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;Heading 1&quot;</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">add_paragraph</span><span class="p">(</span><span class="s2">&quot;Here is my first thought.&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;Body Text&quot;</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">add_paragraph</span><span class="p">(</span><span class="s2">&quot;Here is my second thought.&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;Normal&quot;</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;mydoc.docx&quot;</span><span class="p">)</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;mydoc.docx&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;mydoc.docx&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.auto</span> <span class="kn">import</span> <span class="n">partition</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/layout-parser-paper-fast.pdf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">partition</span></code> function also accepts a <code class="docutils literal notranslate"><span class="pre">url</span></code> kwarg for remotely hosted documents. If you want
to force <code class="docutils literal notranslate"><span class="pre">partition</span></code> to treat the document as a particular MIME type, use the <code class="docutils literal notranslate"><span class="pre">content_type</span></code>
kwarg in conjunction with <code class="docutils literal notranslate"><span class="pre">url</span></code>. Otherwise, <code class="docutils literal notranslate"><span class="pre">partition</span></code> will use the information from
the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header in the HTTP response. The <code class="docutils literal notranslate"><span class="pre">ssl_verify</span></code> kwarg controls whether
or not SSL verification is enabled for the HTTP request. By default it is on. Use <code class="docutils literal notranslate"><span class="pre">ssl_verify=False</span></code>
to disable SSL verification in the request.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.auto</span> <span class="kn">import</span> <span class="n">partition</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/Unstructured-IO/unstructured/main/LICENSE.md&quot;</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;text/markdown&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/main/unstructured/partition/auto.py">source code here</a>.</p>
</section>
<section id="partition-csv">
<h2><code class="docutils literal notranslate"><span class="pre">partition_csv</span></code><a class="headerlink" href="#partition-csv" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_csv</span></code> function pre-processes CSV files. The output is a single
<code class="docutils literal notranslate"><span class="pre">Table</span></code> element. The <code class="docutils literal notranslate"><span class="pre">text_as_html</span></code> attribute in the element metadata will
contain an HTML representation of the table.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.csv</span> <span class="kn">import</span> <span class="n">partition_csv</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_csv</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/stanley-cups.csv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">text_as_html</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_csv</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/main/unstructured/partition/csv.py">source code here</a>.</p>
</section>
<section id="partition-doc">
<h2><code class="docutils literal notranslate"><span class="pre">partition_doc</span></code><a class="headerlink" href="#partition-doc" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_doc</span></code> partitioning function pre-processes Microsoft Word documents
saved in the <code class="docutils literal notranslate"><span class="pre">.doc</span></code> format. This partition function uses a combination of the styling
information in the document and the structure of the text to determine the type
of a text element. The <code class="docutils literal notranslate"><span class="pre">partition_doc</span></code> can take a filename or file-like object
as input.
<code class="docutils literal notranslate"><span class="pre">partiton_doc</span></code> uses <code class="docutils literal notranslate"><span class="pre">libreoffice</span></code> to convert the file to <code class="docutils literal notranslate"><span class="pre">.docx</span></code> and then
calls <code class="docutils literal notranslate"><span class="pre">partition_docx</span></code>. Ensure you have <code class="docutils literal notranslate"><span class="pre">libreoffice</span></code> installed
before using <code class="docutils literal notranslate"><span class="pre">partition_doc</span></code>.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.doc</span> <span class="kn">import</span> <span class="n">partition_doc</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_doc</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/fake.doc&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_doc</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/main/unstructured/partition/doc.py">source code here</a>.</p>
</section>
<section id="partition-docx">
<h2><code class="docutils literal notranslate"><span class="pre">partition_docx</span></code><a class="headerlink" href="#partition-docx" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_docx</span></code> partitioning function pre-processes Microsoft Word documents
saved in the <code class="docutils literal notranslate"><span class="pre">.docx</span></code> format. This partition function uses a combination of the styling
information in the document and the structure of the text to determine the type
of a text element. The <code class="docutils literal notranslate"><span class="pre">partition_docx</span></code> can take a filename or file-like object
as input, as shown in the two examples below.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">docx</span>

<span class="kn">from</span> <span class="nn">unstructured.partition.docx</span> <span class="kn">import</span> <span class="n">partition_docx</span>

<span class="n">document</span> <span class="o">=</span> <span class="n">docx</span><span class="o">.</span><span class="n">Document</span><span class="p">()</span>
<span class="n">document</span><span class="o">.</span><span class="n">add_paragraph</span><span class="p">(</span><span class="s2">&quot;Important Analysis&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;Heading 1&quot;</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">add_paragraph</span><span class="p">(</span><span class="s2">&quot;Here is my first thought.&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;Body Text&quot;</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">add_paragraph</span><span class="p">(</span><span class="s2">&quot;Here is my second thought.&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;Normal&quot;</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;mydoc.docx&quot;</span><span class="p">)</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_docx</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;mydoc.docx&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;mydoc.docx&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="n">partition_docx</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>In Word documents, headers and footers are specified per section. In the output,
the <code class="docutils literal notranslate"><span class="pre">Header</span></code> elements will appear at the beginning of a section and <code class="docutils literal notranslate"><span class="pre">Footer</span></code>
elements will appear at the end. MSFT Word headers and footers have a <code class="docutils literal notranslate"><span class="pre">header_footer_type</span></code>
metadata field indicating where the header or footer applies. Valid values are
<code class="docutils literal notranslate"><span class="pre">&quot;primary&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;first_page&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;even_page&quot;</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">partition_docx</span></code> will include page numbers in the document metadata when page breaks
are present in the document. The function will detect user inserted page breaks
and page breaks inserted by the Word document renderer. Some (but not all) Word document renderers
insert page breaks when you save the document. If your Word document renderer does not do that,
you may not see page numbers in the output even if you see them visually when you open the
document. If that is the case, you can try saving the document with a different renderer.</p>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_docx</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/main/unstructured/partition/docx.py">source code here</a>.</p>
</section>
<section id="partition-email">
<h2><code class="docutils literal notranslate"><span class="pre">partition_email</span></code><a class="headerlink" href="#partition-email" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_email</span></code> function partitions <code class="docutils literal notranslate"><span class="pre">.eml</span></code> documents and works with exports
from email clients such as Microsoft Outlook and Gmail. The <code class="docutils literal notranslate"><span class="pre">partition_email</span></code>
takes a filename, file-like object, or raw text as input and produces a list of
document <code class="docutils literal notranslate"><span class="pre">Element</span></code> objects as output. Also <code class="docutils literal notranslate"><span class="pre">content_source</span></code> can be set to <code class="docutils literal notranslate"><span class="pre">text/html</span></code>
(default) or <code class="docutils literal notranslate"><span class="pre">text/plain</span></code> to process the html or plain text version of the email, respectively.
In order for <code class="docutils literal notranslate"><span class="pre">partition_email</span></code> to also return the header information (e.g. sender, recipient,
attachment, etc.), <code class="docutils literal notranslate"><span class="pre">include_headers</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. Returns tuple with body elements
first and header elements second, if <code class="docutils literal notranslate"><span class="pre">include_headers</span></code> is True.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.email</span> <span class="kn">import</span> <span class="n">partition_email</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_email</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/fake-email.eml&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/fake-email.eml&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="n">partition_email</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/fake-email.eml&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_email</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/fake-email.eml&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_email</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">content_source</span><span class="o">=</span><span class="s2">&quot;text/plain&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/fake-email.eml&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_email</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">include_headers</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">partition_email</span></code> includes a <code class="docutils literal notranslate"><span class="pre">max_partition</span></code> parameter that indicates the maximum character
length for a document element.
This parameter only applies if <code class="docutils literal notranslate"><span class="pre">&quot;text/plain&quot;</span></code> is selected as the <code class="docutils literal notranslate"><span class="pre">content_source</span></code>.
The default value is <code class="docutils literal notranslate"><span class="pre">1500</span></code>, which roughly corresponds to
the average character length for a paragraph.
You can disable <code class="docutils literal notranslate"><span class="pre">max_partition</span></code> by setting it to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>You can optionally partition e-mail attachments by setting <code class="docutils literal notranslate"><span class="pre">process_attachments=True</span></code>.
If you set <code class="docutils literal notranslate"><span class="pre">process_attachments=True</span></code>, you’ll also need to pass in a partitioning
function to <code class="docutils literal notranslate"><span class="pre">attachment_partitioner</span></code>. The following is an example of what the
workflow looks like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.auto</span> <span class="kn">import</span> <span class="n">partition</span>
<span class="kn">from</span> <span class="nn">unstructured.partition.email</span> <span class="kn">import</span> <span class="n">partition_email</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;example-docs/eml/fake-email-attachment.eml&quot;</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_email</span><span class="p">(</span>
  <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">process_attachments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">attachment_partitioner</span><span class="o">=</span><span class="n">partition</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If the content of an email is PGP encrypted, <code class="docutils literal notranslate"><span class="pre">partition_email</span></code> will return an empty
list of elements and emit a warning indicated the email is encrypted.</p>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_email</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/email.py">source code here</a>.</p>
</section>
<section id="partition-epub">
<h2><code class="docutils literal notranslate"><span class="pre">partition_epub</span></code><a class="headerlink" href="#partition-epub" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_epub</span></code> function processes e-books in EPUB3 format. The function
first converts the document to HTML using <code class="docutils literal notranslate"><span class="pre">pandocs</span></code> and then calls <code class="docutils literal notranslate"><span class="pre">partition_html</span></code>.
You’ll need <a class="reference external" href="https://pandoc.org/installing.html">pandocs</a> installed on your system
to use <code class="docutils literal notranslate"><span class="pre">partition_epub</span></code>.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.epub</span> <span class="kn">import</span> <span class="n">partition_epub</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_epub</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/winter-sports.epub&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_epub</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/epub.py">source code here</a>.</p>
</section>
<section id="partition-html">
<h2><code class="docutils literal notranslate"><span class="pre">partition_html</span></code><a class="headerlink" href="#partition-html" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_html</span></code> function partitions an HTML document and returns a list
of document <code class="docutils literal notranslate"><span class="pre">Element</span></code> objects. <code class="docutils literal notranslate"><span class="pre">partition_html</span></code> can take a filename, file-like
object, string, or url as input.</p>
<p>The following three invocations of partition_html() are essentially equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.html</span> <span class="kn">import</span> <span class="n">partition_html</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_html</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/example-10k.html&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/example-10k.html&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="n">partition_html</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/example-10k.html&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_html</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
<p>The following illustrates fetching a url and partitioning the response content.
The <code class="docutils literal notranslate"><span class="pre">ssl_verify</span></code> kwarg controls whether
or not SSL verification is enabled for the HTTP request. By default it is on. Use <code class="docutils literal notranslate"><span class="pre">ssl_verify=False</span></code>
to disable SSL verification in the request.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.html</span> <span class="kn">import</span> <span class="n">partition_html</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_html</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://python.org/&quot;</span><span class="p">)</span>

<span class="c1"># you can also provide custom headers:</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_html</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://python.org/&quot;</span><span class="p">,</span>
                          <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="s2">&quot;YourScriptName/1.0 ...&quot;</span><span class="p">})</span>

<span class="c1"># and turn off SSL verification</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_html</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://python.org/&quot;</span><span class="p">,</span> <span class="n">ssl_verify</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>If you website contains news articles, it can be helpful to only grab content that appears in
between the <code class="docutils literal notranslate"><span class="pre">&lt;article&gt;</span></code> tags, if the site uses that convention.
To activate this behavior, you can set <code class="docutils literal notranslate"><span class="pre">html_assemble_articles=True</span></code>.
If <code class="docutils literal notranslate"><span class="pre">html_assemble_articles</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, each <code class="docutils literal notranslate"><span class="pre">&lt;article&gt;</span></code> tag will be treated as a a page.
If <code class="docutils literal notranslate"><span class="pre">html_assemble_articles</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> and no <code class="docutils literal notranslate"><span class="pre">&lt;article&gt;</span></code> tags are present, the behavior
is the same as <code class="docutils literal notranslate"><span class="pre">html_assemble_articles=False</span></code>.</p>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_html</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/html.py">source code here</a>.</p>
</section>
<section id="partition-image">
<h2><code class="docutils literal notranslate"><span class="pre">partition_image</span></code><a class="headerlink" href="#partition-image" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_image</span></code> function has the same API as <code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code>, which is document above.
The only difference is that <code class="docutils literal notranslate"><span class="pre">partition_image</span></code> does not need to convert a PDF to an image
prior to processing. The <code class="docutils literal notranslate"><span class="pre">partition_image</span></code> function supports <code class="docutils literal notranslate"><span class="pre">.png</span></code>, <code class="docutils literal notranslate"><span class="pre">.heic</span></code>, and <code class="docutils literal notranslate"><span class="pre">.jpg</span></code> files.</p>
<p>You can also specify what languages to use for OCR with the <code class="docutils literal notranslate"><span class="pre">languages</span></code> kwarg. For example,
use <code class="docutils literal notranslate"><span class="pre">languages=[&quot;eng&quot;,</span> <span class="pre">&quot;deu&quot;]</span></code> to use the English and German language packs. See the
<a class="reference external" href="https://github.com/tesseract-ocr/tessdata">Tesseract documentation</a> for a full list of languages and
install instructions.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.image</span> <span class="kn">import</span> <span class="n">partition_image</span>

<span class="c1"># Returns a List[Element] present in the pages of the parsed image document</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_image</span><span class="p">(</span><span class="s2">&quot;example-docs/layout-parser-paper-fast.jpg&quot;</span><span class="p">)</span>

<span class="c1"># Applies the English and Swedish language pack for ocr</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_image</span><span class="p">(</span><span class="s2">&quot;example-docs/layout-parser-paper-fast.jpg&quot;</span><span class="p">,</span> <span class="n">languages</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng&quot;</span><span class="p">,</span> <span class="s2">&quot;swe&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">strategy</span></code> kwarg controls the method that will be used to process the PDF.
The available strategies for images are <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> strategy will choose the partitioning strategy based on document characteristics and the function kwargs.
If <code class="docutils literal notranslate"><span class="pre">infer_table_structure</span></code> is passed, the strategy will be <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> because that is the only strategy that
currently extracts tables for PDFs. Otherwise, <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> will choose <code class="docutils literal notranslate"><span class="pre">ocr_only</span></code>. <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> is the default strategy.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> strategy will identify the layout of the document using <code class="docutils literal notranslate"><span class="pre">detectron2</span></code>. The advantage of <cite>“hi_res”</cite> is that it
uses the document layout to gain additional information about document elements. We recommend using this strategy
if your use case is highly sensitive to correct classifications for document elements. If <code class="docutils literal notranslate"><span class="pre">detectron2</span></code> is not available,
the <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> strategy will fall back to the <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> strategy.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> strategy runs the document through Tesseract for OCR and then runs the raw text through <code class="docutils literal notranslate"><span class="pre">partition_text</span></code>.
Currently, <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> has difficulty ordering elements for documents with multiple columns. If you have a document with
multiple columns that does not have extractable text, we recoomend using the <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> strategy.</p>
<p>It is helpful to use <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code>
if <code class="docutils literal notranslate"><span class="pre">detectron2</span></code> does not detect a text element in the image. To run example below, ensure you
have the Korean language pack for Tesseract installed on your system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.image</span> <span class="kn">import</span> <span class="n">partition_image</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;example-docs/english-and-korean.png&quot;</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">languages</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng&quot;</span><span class="p">,</span> <span class="s2">&quot;kor&quot;</span><span class="p">],</span> <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;ocr_only&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_image</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/image.py">source code here</a>.</p>
</section>
<section id="partition-md">
<h2><code class="docutils literal notranslate"><span class="pre">partition_md</span></code><a class="headerlink" href="#partition-md" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_md</span></code> function provides the ability to parse markdown files. The
following workflow shows how to use <code class="docutils literal notranslate"><span class="pre">partition_md</span></code>.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.md</span> <span class="kn">import</span> <span class="n">partition_md</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_md</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;README.md&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_md</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/md.py">source code here</a>.</p>
</section>
<section id="partition-msg">
<h2><code class="docutils literal notranslate"><span class="pre">partition_msg</span></code><a class="headerlink" href="#partition-msg" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_msg</span></code> functions processes <code class="docutils literal notranslate"><span class="pre">.msg</span></code> files, which is a filetype specific
to email exports from Microsoft Outlook.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.msg</span> <span class="kn">import</span> <span class="n">partition_msg</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_msg</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/fake-email.msg&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">partition_msg</span></code> includes a <code class="docutils literal notranslate"><span class="pre">max_partition</span></code> parameter that indicates the maximum character
length for a document element.
This parameter only applies if <code class="docutils literal notranslate"><span class="pre">&quot;text/plain&quot;</span></code> is selected as the <code class="docutils literal notranslate"><span class="pre">content_source</span></code>.
The default value is <code class="docutils literal notranslate"><span class="pre">1500</span></code>, which roughly corresponds to
the average character length for a paragraph.
You can disable <code class="docutils literal notranslate"><span class="pre">max_partition</span></code> by setting it to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>You can optionally partition e-mail attachments by setting <code class="docutils literal notranslate"><span class="pre">process_attachments=True</span></code>.
If you set <code class="docutils literal notranslate"><span class="pre">process_attachments=True</span></code>, you’ll also need to pass in a partitioning
function to <code class="docutils literal notranslate"><span class="pre">attachment_partitioner</span></code>. The following is an example of what the
workflow looks like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.auto</span> <span class="kn">import</span> <span class="n">partition</span>
<span class="kn">from</span> <span class="nn">unstructured.partition.msg</span> <span class="kn">import</span> <span class="n">partition_msg</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;example-docs/fake-email-attachment.msg&quot;</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_msg</span><span class="p">(</span>
  <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">process_attachments</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">attachment_partitioner</span><span class="o">=</span><span class="n">partition</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If the content of an email is PGP encrypted, <code class="docutils literal notranslate"><span class="pre">partition_msg</span></code> will return an empty
list of elements and emit a warning indicated the email is encrypted.</p>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_msg</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/msg.py">source code here</a>.</p>
</section>
<section id="partition-multiple-via-api">
<h2><code class="docutils literal notranslate"><span class="pre">partition_multiple_via_api</span></code><a class="headerlink" href="#partition-multiple-via-api" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">partition_multiple_via_api</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">partition_via_api</span></code>, but allows you to partition
multiple documents in a single REST API call. The result has the type <code class="docutils literal notranslate"><span class="pre">List[List[Element]]</span></code>,
for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">[</span><span class="n">NarrativeText</span><span class="p">(</span><span class="s2">&quot;Narrative!&quot;</span><span class="p">),</span> <span class="n">Title</span><span class="p">(</span><span class="s2">&quot;Title!&quot;</span><span class="p">)],</span>
  <span class="p">[</span><span class="n">NarrativeText</span><span class="p">(</span><span class="s2">&quot;Narrative!&quot;</span><span class="p">),</span> <span class="n">Title</span><span class="p">(</span><span class="s2">&quot;Title!&quot;</span><span class="p">)]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.api</span> <span class="kn">import</span> <span class="n">partition_multiple_via_api</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;example-docs/fake-email.eml&quot;</span><span class="p">,</span> <span class="s2">&quot;example-docs/fake.docx&quot;</span><span class="p">]</span>

<span class="n">documents</span> <span class="o">=</span> <span class="n">partition_multiple_via_api</span><span class="p">(</span><span class="n">filenames</span><span class="o">=</span><span class="n">filenames</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">ExitStack</span>

<span class="kn">from</span> <span class="nn">unstructured.partition.api</span> <span class="kn">import</span> <span class="n">partition_multiple_via_api</span>

<span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;example-docs/fake-email.eml&quot;</span><span class="p">,</span> <span class="s2">&quot;example-docs/fake.docx&quot;</span><span class="p">]</span>
<span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">]</span>

<span class="k">with</span> <span class="n">ExitStack</span><span class="p">()</span> <span class="k">as</span> <span class="n">stack</span><span class="p">:</span>
    <span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">enter_context</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))</span> <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">]</span>
    <span class="n">documents</span> <span class="o">=</span> <span class="n">partition_multiple_via_api</span><span class="p">(</span><span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span> <span class="n">metadata_filenames</span><span class="o">=</span><span class="n">filenames</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_multiple_via_api</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/api.py">source code here</a>.</p>
</section>
<section id="partition-odt">
<h2><code class="docutils literal notranslate"><span class="pre">partition_odt</span></code><a class="headerlink" href="#partition-odt" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_odt</span></code> partitioning function pre-processes Open Office documents
saved in the <code class="docutils literal notranslate"><span class="pre">.odt</span></code> format. The function first converts the document
to <code class="docutils literal notranslate"><span class="pre">.docx</span></code> using <code class="docutils literal notranslate"><span class="pre">pandoc</span></code> and then processes it using <code class="docutils literal notranslate"><span class="pre">partition_docx</span></code>.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.odt</span> <span class="kn">import</span> <span class="n">partition_odt</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_odt</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/fake.odt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_odt</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/odt.py">source code here</a>.</p>
</section>
<section id="partition-org">
<h2><code class="docutils literal notranslate"><span class="pre">partition_org</span></code><a class="headerlink" href="#partition-org" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_org</span></code> function processes Org Mode (<code class="docutils literal notranslate"><span class="pre">.org</span></code>) documents. The function
first converts the document to HTML using <code class="docutils literal notranslate"><span class="pre">pandoc</span></code> and then calls <code class="docutils literal notranslate"><span class="pre">partition_html</span></code>.
You’ll need <a class="reference external" href="https://pandoc.org/installing.html">pandoc</a> installed on your system
to use <code class="docutils literal notranslate"><span class="pre">partition_org</span></code>.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.org</span> <span class="kn">import</span> <span class="n">partition_org</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_org</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/README.org&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_org</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/org.py">source code here</a>.</p>
</section>
<section id="partition-pdf">
<h2><code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code><a class="headerlink" href="#partition-pdf" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> function segments a PDF document by using a document image analysis model.
If you set <code class="docutils literal notranslate"><span class="pre">url=None</span></code>, the document image analysis model will execute locally. You need to install <code class="docutils literal notranslate"><span class="pre">unstructured[local-inference]</span></code>
if you’d like to run inference locally.
If you set the URL, <code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> will make a call to a remote inference server.
<code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> also includes a <code class="docutils literal notranslate"><span class="pre">token</span></code> function that allows you to pass in an authentication
token for a remote API call.</p>
<p>You can also specify what languages to use for OCR with the <code class="docutils literal notranslate"><span class="pre">languages</span></code> kwarg. For example,
use <code class="docutils literal notranslate"><span class="pre">languages=[&quot;eng&quot;,</span> <span class="pre">&quot;deu&quot;]</span></code> to use the English and German language packs. See the
<a class="reference external" href="https://github.com/tesseract-ocr/tessdata">Tesseract documentation</a> for a full list of languages and
install instructions. OCR is only applied if the text is not already available in the PDF document.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.pdf</span> <span class="kn">import</span> <span class="n">partition_pdf</span>

<span class="c1"># Returns a List[Element] present in the pages of the parsed pdf document</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_pdf</span><span class="p">(</span><span class="s2">&quot;example-docs/layout-parser-paper-fast.pdf&quot;</span><span class="p">)</span>

<span class="c1"># Applies the English and Swedish language pack for ocr. OCR is only applied</span>
<span class="c1"># if the text is not available in the PDF.</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_pdf</span><span class="p">(</span><span class="s2">&quot;example-docs/layout-parser-paper-fast.pdf&quot;</span><span class="p">,</span> <span class="n">languages</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eng&quot;</span><span class="p">,</span> <span class="s2">&quot;swe&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">strategy</span></code> kwarg controls the method that will be used to process the PDF.
The available strategies for PDFs are <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code>.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> strategy will choose the partitioning strategy based on document characteristics and the function kwargs. If <code class="docutils literal notranslate"><span class="pre">infer_table_structure</span></code> is passed, the strategy will be <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> because that is the only strategy that currently extracts tables for PDFs. Otherwise, <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> will choose <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code> if the PDF text is extractable and <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> otherwise. <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> is the default strategy.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> strategy will identify the layout of the document using <code class="docutils literal notranslate"><span class="pre">detectron2</span></code>. The advantage of <cite>“hi_res”</cite> is that it uses the document layout to gain additional information about document elements. We recommend using this strategy if your use case is highly sensitive to correct classifications for document elements. If <code class="docutils literal notranslate"><span class="pre">detectron2</span></code> is not available, the <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> strategy will fall back to the <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> strategy.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> strategy runs the document through Tesseract for OCR and then runs the raw text through <code class="docutils literal notranslate"><span class="pre">partition_text</span></code>. Currently, <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> has difficulty ordering elements for documents with multiple columns. If you have a document with multiple columns that does not have extractable text, we recommend using the <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> strategy. <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> falls back to <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code> if Tesseract is not available and the document has extractable text.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code> strategy will extract the text using <code class="docutils literal notranslate"><span class="pre">pdfminer</span></code> and process the raw text with <code class="docutils literal notranslate"><span class="pre">partition_text</span></code>. If the PDF text is not extractable, <code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> will fall back to <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code>. We recommend using the <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code> strategy in most cases where the PDF has extractable text.</p></li>
</ul>
<p>To extract images and elements as image blocks from a PDF, it is mandatory to set <code class="docutils literal notranslate"><span class="pre">strategy=&quot;hi_res&quot;</span></code> when setting <code class="docutils literal notranslate"><span class="pre">extract_images_in_pdf=True</span></code>. With this configuration, detected images are saved in a specified directory or encoded within the file. However, keep in mind that <code class="docutils literal notranslate"><span class="pre">extract_images_in_pdf</span></code> is being phased out in favor of <code class="docutils literal notranslate"><span class="pre">extract_image_block_types</span></code>. This option allows you to specify types of images or elements, like “Image” or “Table”. If some extracted images have content clipped, you can adjust the padding by specifying two environment variables “EXTRACT_IMAGE_BLOCK_CROP_HORIZONTAL_PAD” and “EXTRACT_IMAGE_BLOCK_CROP_VERTICAL_PAD” (for example, EXTRACT_IMAGE_BLOCK_CROP_HORIZONTAL_PAD = 20, EXTRACT_IMAGE_BLOCK_CROP_VERTICAL_PAD = 10). For integrating these images directly into web applications or APIs, <code class="docutils literal notranslate"><span class="pre">extract_image_block_to_payload</span></code> can be used to convert them into <code class="docutils literal notranslate"><span class="pre">base64</span></code> format, including details about the image type, currently it’s always <code class="docutils literal notranslate"><span class="pre">image/jpeg</span></code>. Lastly, the <code class="docutils literal notranslate"><span class="pre">extract_image_block_output_dir</span></code> can be used to specify the filesystem path for saving the extracted images when not embedding them in payloads.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.pdf</span> <span class="kn">import</span> <span class="n">partition_pdf</span>

<span class="n">partition_pdf</span><span class="p">(</span>
    <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;path/to/your/pdf_file.pdf&quot;</span><span class="p">,</span>                  <span class="c1"># mandatory</span>
    <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;hi_res&quot;</span><span class="p">,</span>                                     <span class="c1"># mandatory to use ``hi_res`` strategy</span>
    <span class="n">extract_images_in_pdf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>                            <span class="c1"># mandatory to set as ``True``</span>
    <span class="n">extract_image_block_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Image&quot;</span><span class="p">,</span> <span class="s2">&quot;Table&quot;</span><span class="p">],</span>          <span class="c1"># optional</span>
    <span class="n">extract_image_block_to_payload</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>                  <span class="c1"># optional</span>
    <span class="n">extract_image_block_output_dir</span><span class="o">=</span><span class="s2">&quot;path/to/save/images&quot;</span><span class="p">,</span>  <span class="c1"># optional - only works when ``extract_image_block_to_payload=False``</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>If a PDF is copy protected, <code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> can process the document with the <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code> strategy (which
will treat it like an image), but cannot process the document with the <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code> strategy.
If the user chooses <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code> on a copy protected PDF, <code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> will fall back to the <code class="docutils literal notranslate"><span class="pre">&quot;hi_res&quot;</span></code>
strategy. If <code class="docutils literal notranslate"><span class="pre">detectron2</span></code> is not installed, <code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> will fail for copy protected
PDFs because the document will not be processable by any of the available methods.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.pdf</span> <span class="kn">import</span> <span class="n">partition_pdf</span>

<span class="c1"># This will process without issue</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_pdf</span><span class="p">(</span><span class="s2">&quot;example-docs/copy-protected.pdf&quot;</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;hi_res&quot;</span><span class="p">)</span>

<span class="c1"># This will output a warning and fall back to hi_res</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_pdf</span><span class="p">(</span><span class="s2">&quot;example-docs/copy-protected.pdf&quot;</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;fast&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> includes a <code class="docutils literal notranslate"><span class="pre">max_partition</span></code> parameter that indicates the maximum character
length for a document element.
This parameter only applies if the <code class="docutils literal notranslate"><span class="pre">&quot;ocr_only&quot;</span></code> strategy is used for partitioning.
The default value is <code class="docutils literal notranslate"><span class="pre">1500</span></code>, which roughly corresponds to
the average character length for a paragraph.
You can disable <code class="docutils literal notranslate"><span class="pre">max_partition</span></code> by setting it to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/pdf.py">source code here</a>.</p>
</section>
<section id="partition-ppt">
<h2><code class="docutils literal notranslate"><span class="pre">partition_ppt</span></code><a class="headerlink" href="#partition-ppt" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_ppt</span></code> partitioning function pre-processes Microsoft PowerPoint documents
saved in the <code class="docutils literal notranslate"><span class="pre">.ppt</span></code> format. This partition function uses a combination of the styling
information in the document and the structure of the text to determine the type
of a text element. The <code class="docutils literal notranslate"><span class="pre">partition_ppt</span></code> can take a filename or file-like object.
<code class="docutils literal notranslate"><span class="pre">partition_ppt</span></code> uses <code class="docutils literal notranslate"><span class="pre">libreoffice</span></code> to convert the file to <code class="docutils literal notranslate"><span class="pre">.pptx</span></code> and then
calls <code class="docutils literal notranslate"><span class="pre">partition_pptx</span></code>. Ensure you have <code class="docutils literal notranslate"><span class="pre">libreoffice</span></code> installed
before using <code class="docutils literal notranslate"><span class="pre">partition_ppt</span></code>.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.ppt</span> <span class="kn">import</span> <span class="n">partition_ppt</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_ppt</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/fake-power-point.ppt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_ppt</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/ppt.py">source code here</a>.</p>
</section>
<section id="partition-pptx">
<h2><code class="docutils literal notranslate"><span class="pre">partition_pptx</span></code><a class="headerlink" href="#partition-pptx" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_pptx</span></code> partitioning function pre-processes Microsoft PowerPoint documents
saved in the <code class="docutils literal notranslate"><span class="pre">.pptx</span></code> format. This partition function uses a combination of the styling
information in the document and the structure of the text to determine the type
of a text element. The <code class="docutils literal notranslate"><span class="pre">partition_pptx</span></code> can take a filename or file-like object
as input, as shown in the two examples below.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.pptx</span> <span class="kn">import</span> <span class="n">partition_pptx</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_pptx</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/fake-power-point.pptx&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/fake-power-point.pptx&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="n">partition_pptx</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_pptx</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/pptx.py">source code here</a>.</p>
</section>
<section id="partition-rst">
<h2><code class="docutils literal notranslate"><span class="pre">partition_rst</span></code><a class="headerlink" href="#partition-rst" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_rst</span></code> function processes ReStructured Text (<code class="docutils literal notranslate"><span class="pre">.rst</span></code>) documents. The function
first converts the document to HTML using <code class="docutils literal notranslate"><span class="pre">pandoc</span></code> and then calls <code class="docutils literal notranslate"><span class="pre">partition_html</span></code>.
You’ll need <a class="reference external" href="https://pandoc.org/installing.html">pandoc</a> installed on your system
to use <code class="docutils literal notranslate"><span class="pre">partition_rst</span></code>.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.rst</span> <span class="kn">import</span> <span class="n">partition_rst</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_rst</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/README.rst&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_rst</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/rst.py">source code here</a>.</p>
</section>
<section id="partition-rtf">
<h2><code class="docutils literal notranslate"><span class="pre">partition_rtf</span></code><a class="headerlink" href="#partition-rtf" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_rtf</span></code> function processes rich text files. The function
first converts the document to HTML using <code class="docutils literal notranslate"><span class="pre">pandocs</span></code> and then calls <code class="docutils literal notranslate"><span class="pre">partition_html</span></code>.
You’ll need <a class="reference external" href="https://pandoc.org/installing.html">pandocs</a> installed on your system
to use <code class="docutils literal notranslate"><span class="pre">partition_rtf</span></code>.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.rtf</span> <span class="kn">import</span> <span class="n">partition_rtf</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_rtf</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/fake-doc.rtf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_rtf</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/rtf.py">source code here</a>.</p>
</section>
<section id="partition-text">
<h2><code class="docutils literal notranslate"><span class="pre">partition_text</span></code><a class="headerlink" href="#partition-text" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_text</span></code> function partitions text files. The <code class="docutils literal notranslate"><span class="pre">partition_text</span></code>
takes a filename, file-like object, and raw text as input and produces <code class="docutils literal notranslate"><span class="pre">Element</span></code> objects as output.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.text</span> <span class="kn">import</span> <span class="n">partition_text</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_text</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/fake-text.txt&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/fake-text.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">elements</span> <span class="o">=</span> <span class="n">partition_text</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;example-docs/fake-text.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">text</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_text</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
<p>If the text has extra line breaks for formatting purposes, you can group
together the broken text using the <code class="docutils literal notranslate"><span class="pre">paragraph_grouper</span></code> kwarg. The
<code class="docutils literal notranslate"><span class="pre">paragraph_grouper</span></code> kwarg is a function that accepts a string and returns
another string.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.text</span> <span class="kn">import</span> <span class="n">partition_text</span>
<span class="kn">from</span> <span class="nn">unstructured.cleaners.core</span> <span class="kn">import</span> <span class="n">group_broken_paragraphs</span>


<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;The big brown fox</span>
<span class="s2">was walking down the lane.</span>

<span class="s2">At the end of the lane, the</span>
<span class="s2">fox met a bear.&quot;&quot;&quot;</span>

<span class="n">partition_text</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">paragraph_grouper</span><span class="o">=</span><span class="n">group_broken_paragraphs</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">partition_text</span></code> includes a <code class="docutils literal notranslate"><span class="pre">max_partition</span></code> parameter that indicates the maximum character
length for a document element.
The default value is <code class="docutils literal notranslate"><span class="pre">1500</span></code>, which roughly corresponds to
the average character length for a paragraph.
You can disable <code class="docutils literal notranslate"><span class="pre">max_partition</span></code> by setting it to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_text</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/text.py">source code here</a>.</p>
</section>
<section id="partition-tsv">
<h2><code class="docutils literal notranslate"><span class="pre">partition_tsv</span></code><a class="headerlink" href="#partition-tsv" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_tsv</span></code> function pre-processes TSV files. The output is a single
<code class="docutils literal notranslate"><span class="pre">Table</span></code> element. The <code class="docutils literal notranslate"><span class="pre">text_as_html</span></code> attribute in the element metadata will
contain an HTML representation of the table.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.tsv</span> <span class="kn">import</span> <span class="n">partition_tsv</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_tsv</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/stanley-cups.tsv&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">text_as_html</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_tsv</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/main/unstructured/partition/tsv.py">source code here</a>.</p>
</section>
<section id="partition-via-api">
<h2><code class="docutils literal notranslate"><span class="pre">partition_via_api</span></code><a class="headerlink" href="#partition-via-api" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">partition_via_api</span></code> allows users to partition documents using the hosted Unstructured API.
The API partitions documents using the automatic <code class="docutils literal notranslate"><span class="pre">partition</span></code> function.
This is helpful if you’re hosting
the API yourself or running it locally through a container. You can pass in your API key
using the <code class="docutils literal notranslate"><span class="pre">api_key</span></code> kwarg. You can use the <code class="docutils literal notranslate"><span class="pre">content_type</span></code> kwarg to pass in the MIME
type for the file. If you do not explicitly pass it, the MIME type will be inferred.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.api</span> <span class="kn">import</span> <span class="n">partition_via_api</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;example-docs/eml/fake-email.eml&quot;</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_via_api</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;MY_API_KEY&quot;</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="s2">&quot;message/rfc822&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">elements</span> <span class="o">=</span> <span class="n">partition_via_api</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">f</span><span class="p">,</span> <span class="n">metadata_filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;MY_API_KEY&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can pass additional settings such as <code class="docutils literal notranslate"><span class="pre">strategy</span></code>, <code class="docutils literal notranslate"><span class="pre">languages</span></code> and <code class="docutils literal notranslate"><span class="pre">encoding</span></code> to the
API through optional kwargs. These options get added to the request body when the
API is called.
See <a class="reference external" href="https://api.unstructured.io/general/docs">the API documentation</a> for a full list of
settings supported by the API.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.api</span> <span class="kn">import</span> <span class="n">partition_via_api</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;example-docs/DA-1p.pdf&quot;</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_via_api</span><span class="p">(</span>
  <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="n">pdf_infer_table_structure</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If you are using the <a class="reference external" href="https://unstructured-io.github.io/unstructured/apis/saas_api.html">Unstructured SaaS API</a>, you can use the <code class="docutils literal notranslate"><span class="pre">api_url</span></code> kwarg to point the <code class="docutils literal notranslate"><span class="pre">partition_via_api</span></code> function at your Unstructured SaaS API URL.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.api</span> <span class="kn">import</span> <span class="n">partition_via_api</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;example-docs/eml/fake-email.eml&quot;</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_via_api</span><span class="p">(</span>
  <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
  <span class="n">api_key</span><span class="o">=&lt;&lt;</span><span class="n">REPLACE</span> <span class="n">WITH</span> <span class="n">YOUR</span> <span class="n">API</span> <span class="n">KEY</span><span class="o">&gt;&gt;</span><span class="p">,</span>
  <span class="n">api_url</span><span class="o">=</span><span class="s2">&quot;https://&lt;&lt;REPLACE WITH YOUR API URL&gt;&gt;/general/v0/general&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If you are self-hosting or running the API locally, you can use the <code class="docutils literal notranslate"><span class="pre">api_url</span></code> kwarg
to point the <code class="docutils literal notranslate"><span class="pre">partition_via_api</span></code> function at your self-hosted or local API.
See <a class="reference external" href="https://github.com/Unstructured-IO/unstructured-api#dizzy-instructions-for-using-the-docker-image">here</a> for
documentation on how to run the API as a container locally.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.api</span> <span class="kn">import</span> <span class="n">partition_via_api</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;example-docs/eml/fake-email.eml&quot;</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_via_api</span><span class="p">(</span>
  <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
  <span class="n">api_url</span><span class="o">=</span><span class="s2">&quot;http://localhost:5000/general/v0/general&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_via_api</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/api.py">source code here</a>.</p>
</section>
<section id="partition-xlsx">
<h2><code class="docutils literal notranslate"><span class="pre">partition_xlsx</span></code><a class="headerlink" href="#partition-xlsx" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_xlsx</span></code> function pre-processes Microsoft Excel documents. Each
sheet in the Excel file will be stored as a <code class="docutils literal notranslate"><span class="pre">Table</span></code> object. The plain text
of the sheet will be the <code class="docutils literal notranslate"><span class="pre">text</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">Table</span></code>. The <code class="docutils literal notranslate"><span class="pre">text_as_html</span></code>
attribute in the element metadata will contain an HTML representation of the table.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.xlsx</span> <span class="kn">import</span> <span class="n">partition_xlsx</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_xlsx</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/stanley-cups.xlsx&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">text_as_html</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_xlsx</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/xlsx.py">source code here</a>.</p>
</section>
<section id="partition-xml">
<h2><code class="docutils literal notranslate"><span class="pre">partition_xml</span></code><a class="headerlink" href="#partition-xml" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">partition_xml</span></code> function processes XML documents.
If <code class="docutils literal notranslate"><span class="pre">xml_keep_tags=False</span></code>, the function only returns the text attributes from the tags.
You can use <code class="docutils literal notranslate"><span class="pre">xml_path</span></code> in conjuntion with <code class="docutils literal notranslate"><span class="pre">xml_keep_tags=False</span></code> to restrict the text
extraction to specific tags.
If <code class="docutils literal notranslate"><span class="pre">xml_keep_tags=True</span></code>, the function returns tag information in addition to tag text.
<code class="docutils literal notranslate"><span class="pre">xml_keep_tags</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code> be default.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">unstructured.partition.xml</span> <span class="kn">import</span> <span class="n">partition_xml</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_xml</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/factbook.xml&quot;</span><span class="p">,</span> <span class="n">xml_keep_tags</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">elements</span> <span class="o">=</span> <span class="n">partition_xml</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;example-docs/factbook.xml&quot;</span><span class="p">,</span> <span class="n">xml_keep_tags</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the <code class="docutils literal notranslate"><span class="pre">partition_xml</span></code> function, you can check the <a class="reference external" href="https://github.com/Unstructured-IO/unstructured/blob/a583d47b841bdd426b9058b7c34f6aa3ed8de152/unstructured/partition/xml.py">source code here</a>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="cleaning.html">
            <div class="page-info">
              <div class="context">
                <span>Next</span>
              </div>
              <div class="title">Cleaning</div>
            </div>
          </a>
          <a class="prev-page" href="../core.html">
            <div class="page-info">
              <div class="context">
                <span>Previous</span>
              </div>
              
              <div class="title">Core Functionality</div>
              
            </div>
          </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
              Copyright &#169; 2022-2023, Unstructured Technologies
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Partitioning</a><ul>
<li><a class="reference internal" href="#partition"><code class="docutils literal notranslate"><span class="pre">partition</span></code></a></li>
<li><a class="reference internal" href="#partition-csv"><code class="docutils literal notranslate"><span class="pre">partition_csv</span></code></a></li>
<li><a class="reference internal" href="#partition-doc"><code class="docutils literal notranslate"><span class="pre">partition_doc</span></code></a></li>
<li><a class="reference internal" href="#partition-docx"><code class="docutils literal notranslate"><span class="pre">partition_docx</span></code></a></li>
<li><a class="reference internal" href="#partition-email"><code class="docutils literal notranslate"><span class="pre">partition_email</span></code></a></li>
<li><a class="reference internal" href="#partition-epub"><code class="docutils literal notranslate"><span class="pre">partition_epub</span></code></a></li>
<li><a class="reference internal" href="#partition-html"><code class="docutils literal notranslate"><span class="pre">partition_html</span></code></a></li>
<li><a class="reference internal" href="#partition-image"><code class="docutils literal notranslate"><span class="pre">partition_image</span></code></a></li>
<li><a class="reference internal" href="#partition-md"><code class="docutils literal notranslate"><span class="pre">partition_md</span></code></a></li>
<li><a class="reference internal" href="#partition-msg"><code class="docutils literal notranslate"><span class="pre">partition_msg</span></code></a></li>
<li><a class="reference internal" href="#partition-multiple-via-api"><code class="docutils literal notranslate"><span class="pre">partition_multiple_via_api</span></code></a></li>
<li><a class="reference internal" href="#partition-odt"><code class="docutils literal notranslate"><span class="pre">partition_odt</span></code></a></li>
<li><a class="reference internal" href="#partition-org"><code class="docutils literal notranslate"><span class="pre">partition_org</span></code></a></li>
<li><a class="reference internal" href="#partition-pdf"><code class="docutils literal notranslate"><span class="pre">partition_pdf</span></code></a></li>
<li><a class="reference internal" href="#partition-ppt"><code class="docutils literal notranslate"><span class="pre">partition_ppt</span></code></a></li>
<li><a class="reference internal" href="#partition-pptx"><code class="docutils literal notranslate"><span class="pre">partition_pptx</span></code></a></li>
<li><a class="reference internal" href="#partition-rst"><code class="docutils literal notranslate"><span class="pre">partition_rst</span></code></a></li>
<li><a class="reference internal" href="#partition-rtf"><code class="docutils literal notranslate"><span class="pre">partition_rtf</span></code></a></li>
<li><a class="reference internal" href="#partition-text"><code class="docutils literal notranslate"><span class="pre">partition_text</span></code></a></li>
<li><a class="reference internal" href="#partition-tsv"><code class="docutils literal notranslate"><span class="pre">partition_tsv</span></code></a></li>
<li><a class="reference internal" href="#partition-via-api"><code class="docutils literal notranslate"><span class="pre">partition_via_api</span></code></a></li>
<li><a class="reference internal" href="#partition-xlsx"><code class="docutils literal notranslate"><span class="pre">partition_xlsx</span></code></a></li>
<li><a class="reference internal" href="#partition-xml"><code class="docutils literal notranslate"><span class="pre">partition_xml</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div>
</body>
</html>