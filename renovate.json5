{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",

  // Extend shared security-only config from renovate-config repo
  "extends": [
    "github>unstructured-io/renovate-config"
  ],

  // Enable automatic version bumping for Python security updates
  "packageRules": [
    {
      "matchDatasources": ["pypi"],
      "matchIsVulnerabilityAlert": true,
      "postUpgradeTasks": {
        "commands": [
          "bash scripts/renovate-security-bump.sh"
        ],
        "fileFilters": [
          "unstructured/__version__.py",
          "CHANGELOG.md"
        ],
        "executionMode": "branch"
      }
    }
  ]
}
